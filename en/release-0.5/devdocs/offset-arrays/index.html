

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arrays with custom indices &mdash; Julia Language 0.5.3-pre documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/julia.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/julia.css" type="text/css" />
  
    <link rel="top" title="Julia Language 0.5.3-pre documentation" href="../../"/>
        <link rel="up" title="Documentation of Julia’s Internals" href="../julia/"/>
        <link rel="next" title="Developing/debugging Julia’s C code" href="../C/"/>
        <link rel="prev" title="Proper maintenance and care of multi-threading locks" href="../locks/"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div style="text-align:center; background-color:pink; padding:5px 0; font-size:14px; height:30px;">
    This is document is for an old version of Julia.
    Please checkout the
    <a href="https://docs.julialang.org/en/stable/"
       style="color: #2980B9;">
      current stable release
    </a>.
  </div>

  <div class="wy-grid-for-nav" style="top: 30px;">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="http://julialang.org/"><img src="../../_static/julia-logo.svg" class="logo"></a>
        <!--
        <a href="../../" class="fa fa-home"> Julia Language</a>
        -->
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../manual/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/getting-started/">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/getting-started/#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/variables/">Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/variables/#allowed-variable-names">Allowed Variable Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/variables/#stylistic-conventions">Stylistic Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/integers-and-floating-point-numbers/">Integers and Floating-Point Numbers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/integers-and-floating-point-numbers/#integers">Integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/integers-and-floating-point-numbers/#floating-point-numbers">Floating-Point Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/integers-and-floating-point-numbers/#arbitrary-precision-arithmetic">Arbitrary Precision Arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/integers-and-floating-point-numbers/#numeric-literal-coefficients">Numeric Literal Coefficients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/integers-and-floating-point-numbers/#literal-zero-and-one">Literal zero and one</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/mathematical-operations/">Mathematical Operations and Elementary Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/mathematical-operations/#arithmetic-operators">Arithmetic Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/mathematical-operations/#bitwise-operators">Bitwise Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/mathematical-operations/#updating-operators">Updating operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/mathematical-operations/#numeric-comparisons">Numeric Comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/mathematical-operations/#numerical-conversions">Numerical Conversions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/complex-and-rational-numbers/">Complex and Rational Numbers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/complex-and-rational-numbers/#complex-numbers">Complex Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/complex-and-rational-numbers/#rational-numbers">Rational Numbers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/strings/">Strings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#characters">Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#string-basics">String Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#unicode-and-utf-8">Unicode and UTF-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#interpolation">Interpolation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#triple-quoted-string-literals">Triple-Quoted String Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#common-operations">Common Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#non-standard-string-literals">Non-Standard String Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#regular-expressions">Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#id2">Byte Array Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/strings/#version-number-literals">Version Number Literals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/functions/">Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#argument-passing-behavior">Argument Passing Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#the-return-keyword">The <code class="docutils literal"><span class="pre">return</span></code> Keyword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#operators-are-functions">Operators Are Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#operators-with-special-names">Operators With Special Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#anonymous-functions">Anonymous Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#multiple-return-values">Multiple Return Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#varargs-functions">Varargs Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#optional-arguments">Optional Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#keyword-arguments">Keyword Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#evaluation-scope-of-default-values">Evaluation Scope of Default Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#do-block-syntax-for-function-arguments">Do-Block Syntax for Function Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#dot-syntax-for-vectorizing-functions">Dot Syntax for Vectorizing Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/functions/#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/control-flow/">Control Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/control-flow/#compound-expressions">Compound Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/control-flow/#conditional-evaluation">Conditional Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/control-flow/#short-circuit-evaluation">Short-Circuit Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/control-flow/#repeated-evaluation-loops">Repeated Evaluation: Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/control-flow/#exception-handling">Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/control-flow/#tasks-aka-coroutines">Tasks (aka Coroutines)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/variables-and-scoping/">Scope of Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/variables-and-scoping/#global-scope">Global Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/variables-and-scoping/#local-scope">Local Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/variables-and-scoping/#constants">Constants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/types/">Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#type-declarations">Type Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#abstract-types">Abstract Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#bits-types">Bits Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#composite-types">Composite Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#immutable-composite-types">Immutable Composite Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#declared-types">Declared Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#type-unions">Type Unions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#man-parametric-types">Parametric Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#type-aliases">Type Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#operations-on-types">Operations on Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#custom-pretty-printing">Custom pretty-printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#value-types">&#8220;Value types&#8221;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/types/#nullable-types-representing-missing-values">Nullable Types: Representing Missing Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/methods/">Methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#defining-methods">Defining Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#method-ambiguities">Method Ambiguities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#parametric-methods">Parametric Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#parametrically-constrained-varargs-methods">Parametrically-constrained Varargs methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#note-on-optional-and-keyword-arguments">Note on Optional and keyword Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#function-like-objects">Function-like objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/methods/#empty-generic-functions">Empty generic functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/constructors/">Constructors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#outer-constructor-methods">Outer Constructor Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#inner-constructor-methods">Inner Constructor Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#incomplete-initialization">Incomplete Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#parametric-constructors">Parametric Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#case-study-rational">Case Study: Rational</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#constructors-and-conversion">Constructors and Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/constructors/#outer-only-constructors">Outer-only constructors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/conversion-and-promotion/">Conversion and Promotion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/conversion-and-promotion/#conversion">Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/conversion-and-promotion/#promotion">Promotion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/interfaces/">Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interfaces/#iteration">Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interfaces/#indexing">Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interfaces/#abstract-arrays">Abstract Arrays</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/modules/">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/modules/#summary-of-module-usage">Summary of module usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/documentation/">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/documentation/#accessing-documentation">Accessing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/documentation/#functions-methods">Functions &amp; Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/documentation/#advanced-usage">Advanced Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/documentation/#syntax-guide">Syntax Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/documentation/#markdown-syntax">Markdown syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/documentation/#markdown-syntax-extensions">Markdown Syntax Extensions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/metaprogramming/">Metaprogramming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/metaprogramming/#program-representation">Program representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/metaprogramming/#expressions-and-evaluation">Expressions and evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/metaprogramming/#macros">Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/metaprogramming/#code-generation">Code Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/metaprogramming/#non-standard-string-literals">Non-Standard String Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/metaprogramming/#generated-functions">Generated functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/arrays/">Multi-dimensional Arrays</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/arrays/#arrays">Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/arrays/#sparse-matrices">Sparse Matrices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/linear-algebra/">Linear algebra</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/linear-algebra/#matrix-factorizations">Matrix factorizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/linear-algebra/#special-matrices">Special matrices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/networking-and-streams/">Networking and Streams</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/networking-and-streams/#basic-stream-i-o">Basic Stream I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/networking-and-streams/#text-i-o">Text I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/networking-and-streams/#io-output-contextual-properties">IO Output Contextual Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/networking-and-streams/#working-with-files">Working with Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/networking-and-streams/#a-simple-tcp-example">A simple TCP example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/networking-and-streams/#resolving-ip-addresses">Resolving IP Addresses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/parallel-computing/">Parallel Computing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#code-availability-and-loading-packages">Code Availability and Loading Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#data-movement">Data Movement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#parallel-map-and-loops">Parallel Map and Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#synchronization-with-remote-references">Synchronization With Remote References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#scheduling">Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#channels">Channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#remote-references-and-abstractchannels">Remote references and AbstractChannels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#remote-references-and-distributed-garbage-collection">Remote References and Distributed Garbage Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#id2">Shared Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#shared-arrays-and-distributed-garbage-collection">Shared Arrays and Distributed Garbage Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#clustermanagers">ClusterManagers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#cluster-managers-with-custom-transports">Cluster Managers with custom transports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#network-requirements-for-localmanager-and-sshmanager">Network requirements for LocalManager and SSHManager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#cluster-cookie">Cluster cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#specifying-network-topology-experimental">Specifying network topology (Experimental)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#multi-threading-experimental">Multi-threading (Experimental)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/parallel-computing/#threadcall-experimental">&#64;threadcall (Experimental)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/dates/">Date and DateTime</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#constructors">Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#durations-comparisons">Durations/Comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#accessor-functions">Accessor Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#query-functions">Query Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#timetype-period-arithmetic">TimeType-Period Arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#adjuster-functions">Adjuster Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#period-types">Period Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/dates/#rounding">Rounding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/running-external-programs/">Running External Programs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/running-external-programs/#interpolation">Interpolation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/running-external-programs/#quoting">Quoting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/running-external-programs/#pipelines">Pipelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/">Calling C and Fortran Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#creating-c-compatible-julia-function-pointers">Creating C-Compatible Julia Function Pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#mapping-c-types-to-julia">Mapping C Types to Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#mapping-c-functions-to-julia">Mapping C Functions to Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#some-examples-of-c-wrappers">Some Examples of C Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#garbage-collection-safety">Garbage Collection Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#non-constant-function-specifications">Non-constant Function Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#indirect-calls">Indirect Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#calling-convention">Calling Convention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#accessing-global-variables">Accessing Global Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#accessing-data-through-a-pointer">Accessing Data through a Pointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#thread-safety">Thread-safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#more-about-callbacks">More About Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/calling-c-and-fortran-code/#c">C++</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/handling-operating-system-variation/">Handling Operating System Variation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/interacting-with-julia/">Interacting With Julia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interacting-with-julia/#the-different-prompt-modes">The different prompt modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interacting-with-julia/#key-bindings">Key bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interacting-with-julia/#tab-completion">Tab completion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/interacting-with-julia/#customizing-colors">Customizing Colors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/embedding/">Embedding Julia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/embedding/#high-level-embedding">High-Level Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/embedding/#converting-types">Converting Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/embedding/#calling-julia-functions">Calling Julia Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/embedding/#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/embedding/#working-with-arrays">Working with Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/embedding/#exceptions">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/packages/">Packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#package-status">Package Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#adding-and-removing-packages">Adding and Removing Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#offline-installation-of-packages">Offline Installation of Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#installing-unregistered-packages">Installing Unregistered Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#updating-packages">Updating Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#checkout-pin-and-free">Checkout, Pin and Free</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#custom-metadata-repository">Custom METADATA Repository</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/packages/#package-development">Package Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#initial-setup">Initial Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#making-changes-to-an-existing-package">Making changes to an existing package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#creating-a-new-package">Creating a new Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#fixing-package-requirements">Fixing Package Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/packages/#man-package-requirements">Requirements Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/profile/">Profiling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/profile/#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/profile/#accumulation-and-clearing">Accumulation and clearing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/profile/#options-for-controlling-the-display-of-profile-results">Options for controlling the display of profile results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/profile/#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/profile/#memory-allocation-analysis">Memory allocation analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/stacktraces/">Stack Traces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/stacktraces/#viewing-a-stack-trace">Viewing a stack trace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/stacktraces/#extracting-useful-information">Extracting useful information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/stacktraces/#error-handling">Error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/stacktraces/#comparison-with-backtrace">Comparison with <code class="docutils literal"><span class="pre">backtrace()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/performance-tips/">Performance Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#avoid-global-variables">Avoid global variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#measure-performance-with-time-and-pay-attention-to-memory-allocation">Measure performance with <code class="docutils literal"><span class="pre">&#64;time</span></code> and pay attention to memory allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#avoid-containers-with-abstract-type-parameters">Avoid containers with abstract type parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#type-declarations">Type declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#break-functions-into-multiple-definitions">Break functions into multiple definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#write-type-stable-functions">Write &#8220;type-stable&#8221; functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#avoid-changing-the-type-of-a-variable">Avoid changing the type of a variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#separate-kernel-functions-aka-function-barriers">Separate kernel functions (aka, function barriers)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#types-with-values-as-parameters">Types with values-as-parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#the-dangers-of-abusing-multiple-dispatch-aka-more-on-types-with-values-as-parameters">The dangers of abusing multiple dispatch (aka, more on types with values-as-parameters)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#access-arrays-in-memory-order-along-columns">Access arrays in memory order, along columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#pre-allocating-outputs">Pre-allocating outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#avoid-string-interpolation-for-i-o">Avoid string interpolation for I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#optimize-network-i-o-during-parallel-execution">Optimize network I/O during parallel execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#fix-deprecation-warnings">Fix deprecation warnings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#tweaks">Tweaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#performance-annotations">Performance Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#treat-subnormal-numbers-as-zeros">Treat Subnormal Numbers as Zeros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/performance-tips/#code-warntype"><code class="docutils literal"><span class="pre">&#64;code_warntype</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/workflow-tips/">Workflow Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/workflow-tips/#repl-based-workflow">REPL-based workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/workflow-tips/#browser-based-workflow">Browser-based workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/style-guide/">Style Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#write-functions-not-just-scripts">Write functions, not just scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#avoid-writing-overly-specific-types">Avoid writing overly-specific types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#handle-excess-argument-diversity-in-the-caller">Handle excess argument diversity in the caller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#append-to-names-of-functions-that-modify-their-arguments">Append <code class="docutils literal"><span class="pre">!</span></code> to names of functions that modify their arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#avoid-strange-type-unions">Avoid strange type Unions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#avoid-type-unions-in-fields">Avoid type Unions in fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#avoid-elaborate-container-types">Avoid elaborate container types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#use-naming-conventions-consistent-with-julia-s-base">Use naming conventions consistent with Julia&#8217;s <code class="docutils literal"><span class="pre">base/</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-overuse-try-catch">Don&#8217;t overuse try-catch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-parenthesize-conditions">Don&#8217;t parenthesize conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-overuse">Don&#8217;t overuse ...</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-use-unnecessary-static-parameters">Don&#8217;t use unnecessary static parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#avoid-confusion-about-whether-something-is-an-instance-or-a-type">Avoid confusion about whether something is an instance or a type</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-overuse-macros">Don&#8217;t overuse macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-expose-unsafe-operations-at-the-interface-level">Don&#8217;t expose unsafe operations at the interface level</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#don-t-overload-methods-of-base-container-types">Don&#8217;t overload methods of base container types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#be-careful-with-type-equality">Be careful with type equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#do-not-write-x-f-x">Do not write <code class="docutils literal"><span class="pre">x-&gt;f(x)</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/style-guide/#avoid-using-floats-for-numeric-literals-in-generic-code-when-possible">Avoid using floats for numeric literals in generic code when possible</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/faq/">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#sessions-and-the-repl">Sessions and the REPL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#types-type-declarations-and-constructors">Types, type declarations, and constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#packages-and-modules">Packages and Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#nothingness-and-missing-values">Nothingness and missing values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#memory">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#asynchronous-io-and-concurrent-synchronous-writes">Asynchronous IO and concurrent synchronous writes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/faq/#julia-releases">Julia Releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/noteworthy-differences/">Noteworthy Differences from other Languages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manual/noteworthy-differences/#noteworthy-differences-from-matlab">Noteworthy differences from MATLAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/noteworthy-differences/#noteworthy-differences-from-r">Noteworthy differences from R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/noteworthy-differences/#noteworthy-differences-from-python">Noteworthy differences from Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/noteworthy-differences/#noteworthy-differences-from-c-c">Noteworthy differences from C/C++</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/unicode-input/">Unicode Input</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/base/">Essentials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#getting-around">Getting Around</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#all-objects">All Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#types">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#generic-functions">Generic Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#nullables">Nullables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#system">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#errors">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#reflection">Reflection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/base/#internals">Internals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/collections/">Collections and Data Structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#iteration">Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#general-collections">General Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#iterable-collections">Iterable Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#indexable-collections">Indexable Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#associative-collections">Associative Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#set-like-collections">Set-Like Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#dequeues">Dequeues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#priorityqueue">PriorityQueue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/collections/#heap-functions">Heap Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/math/">Mathematics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/math/#mathematical-operators">Mathematical Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/math/#mathematical-functions">Mathematical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/math/#statistics">Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/math/#signal-processing">Signal Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/math/#numerical-integration">Numerical Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/numbers/">Numbers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/numbers/#standard-numeric-types">Standard Numeric Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/numbers/#data-formats">Data Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/numbers/#general-number-functions-and-constants">General Number Functions and Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/numbers/#bigfloats">BigFloats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/numbers/#random-numbers">Random Numbers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/strings/">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/arrays/">Arrays</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#basic-functions">Basic functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#constructors">Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#mathematical-operators-and-functions">Mathematical operators and functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#indexing-assignment-and-concatenation">Indexing, Assignment, and Concatenation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#array-functions">Array functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#combinatorics">Combinatorics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#bitarrays">BitArrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/arrays/#sparse-vectors-and-matrices">Sparse Vectors and Matrices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/parallel/">Tasks and Parallel Computing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#tasks">Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#general-parallel-computing-support">General Parallel Computing Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#shared-arrays">Shared Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#multi-threading">Multi-Threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#ccall-using-a-threadpool-experimental">ccall using a threadpool (Experimental)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#synchronization-primitives">Synchronization Primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/parallel/#cluster-manager-interface">Cluster Manager Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/linalg/">Linear Algebra</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/linalg/#module-Base.LinAlg">Standard Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/linalg/#low-level-matrix-operations">Low-level matrix operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/linalg/#module-Base.LinAlg.BLAS">BLAS Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/linalg/#module-Base.LinAlg.LAPACK">LAPACK Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/constants/">Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/file/">Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/io-network/">I/O and Network</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/io-network/#general-i-o">General I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/io-network/#text-i-o">Text I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/io-network/#multimedia-i-o">Multimedia I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/io-network/#memory-mapped-i-o">Memory-mapped I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/io-network/#network-i-o">Network I/O</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/punctuation/">Punctuation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/sort/">Sorting and Related Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/sort/#sorting-functions">Sorting Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/sort/#order-related-functions">Order-Related Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/sort/#sorting-algorithms">Sorting Algorithms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/pkg/">Package Manager Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/dates/">Dates and Time</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/dates/#dates-and-time-types">Dates and Time Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/dates/#dates-functions">Dates Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/test/">Unit Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/test/#testing-base-julia">Testing Base Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/test/#basic-unit-tests">Basic Unit Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/test/#working-with-test-sets">Working with Test Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/test/#other-test-macros">Other Test Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/test/#broken-tests">Broken Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stdlib/test/#creating-custom-abstracttestset-types">Creating Custom <code class="docutils literal"><span class="pre">AbstractTestSet</span></code> Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/c/">C Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/c/#llvm-interface">LLVM Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/libc/">C Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/libdl/">Dynamic Linker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/profile/">Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/stacktraces/">StackTraces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stdlib/simd-types/">SIMD Support</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../reflection/">Reflection and introspection</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../julia/">Documentation of Julia&#8217;s Internals</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../init/">Initialization of the Julia runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eval/">Eval of Julia code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ast/">Julia ASTs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types/">More about types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../object/">Memory layout of Julia Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/">Julia Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callconv/">Calling Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cartesian/">Base.Cartesian</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meta/">Talking to the compiler (the <code class="docutils literal"><span class="pre">:meta</span></code> mechanism)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subarrays/">SubArrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysimg/">System Image Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../llvm/">Working with LLVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdio/">printf() and stdio in the Julia runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../boundscheck/">Bounds checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../locks/">Proper maintenance and care of multi-threading locks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Arrays with custom indices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../C/">Developing/debugging Julia&#8217;s C code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../backtraces/">Reporting and analyzing crashes (segfaults)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debuggingtips/">gdb debugging tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../valgrind/">Using Valgrind with Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sanitizers/">Sanitizer support</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">Julia Language</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../julia/">Documentation of Julia&#8217;s Internals</a> &raquo;</li>
      
    <li>Arrays with custom indices</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/devdocs/offset-arrays.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="arrays-with-custom-indices">
<span id="devdocs-offsetarrays"></span><h1>Arrays with custom indices<a class="headerlink" href="#arrays-with-custom-indices" title="Permalink to this headline">¶</a></h1>
<p>Julia 0.5 adds experimental support for arrays with arbitrary indices.
Conventionally, Julia&#8217;s arrays are indexed starting at 1, whereas some
other languages start numbering at 0, and yet others (e.g., Fortran)
allow you to specify arbitrary starting indices.  While there is much
merit in picking a standard (i.e., 1 for Julia), there are some
algorithms which simplify considerably if you can index outside the
range <code class="docutils literal"><span class="pre">1:size(A,d)</span></code> (and not just <code class="docutils literal"><span class="pre">0:size(A,d)-1</span></code>, either). Such
array types are expected to be supplied through packages.</p>
<p>The purpose of this page is to address the question, &#8220;what do I
have to do to support such arrays in my own code?&#8221;  First, let&#8217;s
address the simplest case: if you know that your code will never need
to handle arrays with unconventional indexing, hopefully the answer is
&#8220;nothing.&#8221; Old code, on conventional arrays, should function
essentially without alteration as long as it was using the exported
interfaces of Julia.</p>
<div class="section" id="generalizing-existing-code">
<h2>Generalizing existing code<a class="headerlink" href="#generalizing-existing-code" title="Permalink to this headline">¶</a></h2>
<p>As an overview, the steps are:</p>
<ul class="simple">
<li>replace many uses of <code class="docutils literal"><span class="pre">size</span></code> with <code class="docutils literal"><span class="pre">indices</span></code></li>
<li>replace <code class="docutils literal"><span class="pre">1:length(A)</span></code> with <code class="docutils literal"><span class="pre">linearindices(A)</span></code>, and <code class="docutils literal"><span class="pre">length(A)</span></code> with <code class="docutils literal"><span class="pre">length(linearindices(A))</span></code></li>
<li>replace explicit allocations like <code class="docutils literal"><span class="pre">Array{Int}(size(B))</span></code> with <code class="docutils literal"><span class="pre">similar(Array{Int},</span> <span class="pre">indices(B))</span></code></li>
</ul>
<p>These are described in more detail below.</p>
<div class="section" id="background">
<h3>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>Because unconventional indexing breaks deeply-held assumptions
throughout the Julia ecosystem, early adopters running code that has
not been updated are likely to experience errors.  The most
frustrating bugs would be incorrect results or segfaults (total
crashes of Julia).  For example, consider the following function:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">mycopy!</span><span class="p">(</span><span class="n">dest</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">,</span> <span class="n">src</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">)</span>
    <span class="n">length</span><span class="p">(</span><span class="n">dest</span><span class="p">)</span> <span class="o">==</span> <span class="n">length</span><span class="p">(</span><span class="n">src</span><span class="p">)</span> <span class="o">||</span> <span class="n">throw</span><span class="p">(</span><span class="kt">DimensionMismatch</span><span class="p">(</span><span class="s">&quot;vectors must match&quot;</span><span class="p">))</span>
    <span class="c"># OK, now we&#39;re safe to use @inbounds, right? (not anymore!)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">:</span><span class="n">length</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
        <span class="nd">@inbounds</span> <span class="n">dest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">src</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">end</span>
    <span class="n">dest</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This code implicitly assumes that vectors are indexed from 1.
Previously that was a safe assumption, so this code was fine, but
(depending on what types the user passes to this function) it may no
longer be safe.  If this code continued to work when passed a vector
with non-1 indices, it would either produce an incorrect answer or it
would segfault.  (If you do get segfaults, to help locate the
cause try running julia with the option <code class="docutils literal"><span class="pre">--check-bounds=yes</span></code>.)</p>
<p>To ensure that such errors are caught, in Julia 0.5 both <code class="docutils literal"><span class="pre">length</span></code>
and <code class="docutils literal"><span class="pre">size</span></code> <strong>should</strong> throw an error when passed an array with
non-1 indexing.  This is designed to force users of such arrays to
check the code, and inspect it for whether it needs to be generalized.</p>
</div>
<div class="section" id="using-indices-for-bounds-checks-and-loop-iteration">
<h3>Using <code class="docutils literal"><span class="pre">indices</span></code> for bounds checks and loop iteration<a class="headerlink" href="#using-indices-for-bounds-checks-and-loop-iteration" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">indices(A)</span></code> (reminiscent of <code class="docutils literal"><span class="pre">size(A)</span></code>) returns a tuple of
<code class="docutils literal"><span class="pre">AbstractUnitRange</span></code> objects, specifying the range of valid indices
along each dimension of <code class="docutils literal"><span class="pre">A</span></code>.  When <code class="docutils literal"><span class="pre">A</span></code> has unconventional
indexing, the ranges may not start at 1.  If you just want the range
for a particular dimension <code class="docutils literal"><span class="pre">d</span></code>, there is <code class="docutils literal"><span class="pre">indices(A,</span> <span class="pre">d)</span></code>.</p>
<p>Base implements a custom range type, <code class="docutils literal"><span class="pre">OneTo</span></code>, where <code class="docutils literal"><span class="pre">OneTo(n)</span></code>
means the same thing as <code class="docutils literal"><span class="pre">1:n</span></code> but in a form that guarantees (via the
type system) that the lower index is 1.  For any new <code class="docutils literal"><span class="pre">AbstractArray</span></code>
type, this is the default returned by <code class="docutils literal"><span class="pre">indices</span></code>, and it indicates
that this array type uses &#8220;conventional&#8221; 1-based indexing.  Note that
if you don&#8217;t want to be bothered supporting arrays with non-1
indexing, you can add the following line:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="nd">@assert</span> <span class="n">all</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span><span class="n">isa</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Base</span><span class="o">.</span><span class="n">OneTo</span><span class="p">),</span> <span class="n">indices</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</pre></div>
</div>
<p>at the top of any function.</p>
<p>For bounds checking, note that there are dedicated functions
<code class="docutils literal"><span class="pre">checkbounds</span></code> and <code class="docutils literal"><span class="pre">checkindex</span></code> which can sometimes simplify such
tests.</p>
</div>
<div class="section" id="linear-indexing-linearindices">
<h3>Linear indexing (<code class="docutils literal"><span class="pre">linearindices</span></code>)<a class="headerlink" href="#linear-indexing-linearindices" title="Permalink to this headline">¶</a></h3>
<p>Some algorithms are most conveniently (or efficiently) written in
terms of a single linear index, <code class="docutils literal"><span class="pre">A[i]</span></code> even if <code class="docutils literal"><span class="pre">A</span></code> is
multi-dimensional.  In &#8220;true&#8221; linear indexing, the indices always
range from <code class="docutils literal"><span class="pre">1:length(A)</span></code>. However, this raises an ambiguity for
one-dimensional arrays (a.k.a., <code class="docutils literal"><span class="pre">AbstractVector</span></code>): does <code class="docutils literal"><span class="pre">v[i]</span></code>
mean linear indexing, or Cartesian indexing with the array&#8217;s native
indices?</p>
<p>For this reason, if you want to use linear indexing in an algorithm,
your best option is to get the index range by calling
<code class="docutils literal"><span class="pre">linearindices(A)</span></code>.  This will return <code class="docutils literal"><span class="pre">indices(A,</span> <span class="pre">1)</span></code> if <code class="docutils literal"><span class="pre">A</span></code> is an
<code class="docutils literal"><span class="pre">AbstractVector</span></code>, and the equivalent of <code class="docutils literal"><span class="pre">1:length(A)</span></code> otherwise.</p>
<p>In a sense, one can say that 1-dimensional arrays always use Cartesian
indexing. To help enforce this, it&#8217;s worth noting that
<code class="docutils literal"><span class="pre">sub2ind(shape,</span> <span class="pre">i...)</span></code> and <code class="docutils literal"><span class="pre">ind2sub(shape,</span> <span class="pre">ind)</span></code> will throw an
error if <code class="docutils literal"><span class="pre">shape</span></code> indicates a 1-dimensional array with unconventional
indexing (i.e., is a <code class="docutils literal"><span class="pre">Tuple{UnitRange}</span></code> rather than a tuple of
<code class="docutils literal"><span class="pre">OneTo</span></code>).  For arrays with conventional indexing, these functions
continue to work the same as always.</p>
<p>Using <code class="docutils literal"><span class="pre">indices</span></code> and <code class="docutils literal"><span class="pre">linearindices</span></code>, here is one way you could
rewrite <code class="docutils literal"><span class="pre">mycopy!</span></code>:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">mycopy!</span><span class="p">(</span><span class="n">dest</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">,</span> <span class="n">src</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">)</span>
    <span class="n">indices</span><span class="p">(</span><span class="n">dest</span><span class="p">)</span> <span class="o">==</span> <span class="n">indices</span><span class="p">(</span><span class="n">src</span><span class="p">)</span> <span class="o">||</span> <span class="n">throw</span><span class="p">(</span><span class="kt">DimensionMismatch</span><span class="p">(</span><span class="s">&quot;vectors must match&quot;</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="kp">in</span> <span class="n">linearindices</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
        <span class="nd">@inbounds</span> <span class="n">dest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">src</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">end</span>
    <span class="n">dest</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="allocating-storage-using-generalizations-of-similar">
<h3>Allocating storage using generalizations of <code class="docutils literal"><span class="pre">similar</span></code><a class="headerlink" href="#allocating-storage-using-generalizations-of-similar" title="Permalink to this headline">¶</a></h3>
<p>Storage is often allocated with <code class="docutils literal"><span class="pre">Array{Int}(dims)</span></code> or <code class="docutils literal"><span class="pre">similar(A,</span> <span class="pre">args...)</span></code>.
When the result needs to match the indices of some other array, this may not always suffice.
The generic replacement for such patterns is to use
<code class="docutils literal"><span class="pre">similar(storagetype,</span> <span class="pre">shape)</span></code>.  <code class="docutils literal"><span class="pre">storagetype</span></code> indicates the kind
of underlying &#8220;conventional&#8221; behavior you&#8217;d like, e.g., <code class="docutils literal"><span class="pre">Array{Int}</span></code>
or <code class="docutils literal"><span class="pre">BitArray</span></code> or even <code class="docutils literal"><span class="pre">dims-&gt;zeros(Float32,</span> <span class="pre">dims)</span></code> (which would
allocate an all-zeros array). <code class="docutils literal"><span class="pre">shape</span></code> is a tuple of <code class="docutils literal"><span class="pre">Integer</span></code> or
<code class="docutils literal"><span class="pre">AbstractUnitRange</span></code> values, specifying the indices
that you want the result to use.</p>
<p>Let&#8217;s walk through a couple of explicit examples. First, if <code class="docutils literal"><span class="pre">A</span></code> has
conventional indices, then <code class="docutils literal"><span class="pre">similar(Array{Int},</span> <span class="pre">indices(A))</span></code>
would end up calling <code class="docutils literal"><span class="pre">Array{Int}(size(A))</span></code>, and thus return an
array.  If <code class="docutils literal"><span class="pre">A</span></code> is an <code class="docutils literal"><span class="pre">AbstractArray</span></code> type with unconventional
indexing, then <code class="docutils literal"><span class="pre">similar(Array{Int},</span> <span class="pre">indices(A))</span></code> should return
something that &#8220;behaves like&#8221; an <code class="docutils literal"><span class="pre">Array{Int}</span></code> but with a shape
(including indices) that matches <code class="docutils literal"><span class="pre">A</span></code>.  (The most obvious
implementation is to allocate an <code class="docutils literal"><span class="pre">Array{Int}(size(A))</span></code> and then
&#8220;wrap&#8221; it in a type that shifts the indices.)</p>
<p>Note also that <code class="docutils literal"><span class="pre">similar(Array{Int},</span> <span class="pre">(indices(A,</span> <span class="pre">2),))</span></code> would allocate
an <code class="docutils literal"><span class="pre">AbstractVector{Int}</span></code> (i.e., 1-dimensional array) that matches the
indices of the columns of <code class="docutils literal"><span class="pre">A</span></code>.</p>
</div>
<div class="section" id="deprecations">
<h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h3>
<p>In generalizing Julia&#8217;s code base, at least one deprecation was
unavoidable: earlier versions of Julia defined <code class="docutils literal"><span class="pre">first(::Colon)</span> <span class="pre">=</span> <span class="pre">1</span></code>,
meaning that the first index along a dimension indexed by <code class="docutils literal"><span class="pre">:</span></code> is 1.
This definition can no longer be justified, so it was deprecated.
There is no provided replacement, because the proper replacement
depends on what you are doing and might need to know more about the
array. However, it appears that many uses of <code class="docutils literal"><span class="pre">first(::Colon)</span></code> are
really about computing an index offset; when that is the case, a
candidate replacement is:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="n">indexoffset</span><span class="p">(</span><span class="n">r</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">)</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">indexoffset</span><span class="p">(</span><span class="o">::</span><span class="kt">Colon</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>In other words, while <code class="docutils literal"><span class="pre">first(:)</span></code> does not itself make sense, in
general you can say that the offset associated with a colon-index is
zero.</p>
</div>
</div>
<div class="section" id="writing-custom-array-types-with-non-1-indexing">
<h2>Writing custom array types with non-1 indexing<a class="headerlink" href="#writing-custom-array-types-with-non-1-indexing" title="Permalink to this headline">¶</a></h2>
<p>Most of the methods you&#8217;ll need to define are standard for any
<code class="docutils literal"><span class="pre">AbstractArray</span></code> type, see <a class="reference internal" href="../../manual/interfaces/#man-interfaces-abstractarray"><span class="std std-ref">Abstract Arrays</span></a>.
This page focuses on the steps needed to define unconventional
indexing.</p>
<div class="section" id="do-not-implement-size-or-length">
<h3>Do <strong>not</strong> implement <code class="docutils literal"><span class="pre">size</span></code> or <code class="docutils literal"><span class="pre">length</span></code><a class="headerlink" href="#do-not-implement-size-or-length" title="Permalink to this headline">¶</a></h3>
<p>Perhaps the majority of pre-existing code that uses <code class="docutils literal"><span class="pre">size</span></code> will not
work properly for arrays with non-1 indices.  For that reason, it is
much better to avoid implementing these methods, and use the resulting
<code class="docutils literal"><span class="pre">MethodError</span></code> to identify code that needs to be audited and perhaps
generalized.</p>
</div>
<div class="section" id="do-not-annotate-bounds-checks">
<h3>Do <strong>not</strong> annotate bounds checks<a class="headerlink" href="#do-not-annotate-bounds-checks" title="Permalink to this headline">¶</a></h3>
<p>Julia 0.5 includes <code class="docutils literal"><span class="pre">&#64;boundscheck</span></code> to annotate code that can be
removed for callers that exploit <code class="docutils literal"><span class="pre">&#64;inbounds</span></code>. Initially, it seems
far preferable to run with bounds checking always enabled (i.e., omit
the <code class="docutils literal"><span class="pre">&#64;boundscheck</span></code> annotation so the check always runs).</p>
</div>
<div class="section" id="custom-abstractunitrange-types">
<h3>Custom <code class="docutils literal"><span class="pre">AbstractUnitRange</span></code> types<a class="headerlink" href="#custom-abstractunitrange-types" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re writing a non-1 indexed array type, you will want to
specialize <code class="docutils literal"><span class="pre">indices</span></code> so it returns a <code class="docutils literal"><span class="pre">UnitRange</span></code>, or (perhaps
better) a custom <code class="docutils literal"><span class="pre">AbstractUnitRange</span></code>.  The advantage of a custom
type is that it &#8220;signals&#8221; the allocation type for functions like
<code class="docutils literal"><span class="pre">similar</span></code>. If we&#8217;re writing an array type for which indexing will
start at 0, we likely want to begin by creating a new
<code class="docutils literal"><span class="pre">AbstractUnitRange</span></code>, <code class="docutils literal"><span class="pre">ZeroRange</span></code>, where <code class="docutils literal"><span class="pre">ZeroRange(n)</span></code> is equivalent
to <code class="docutils literal"><span class="pre">0:n-1</span></code>.</p>
<p>In general, you should probably <em>not</em> export <code class="docutils literal"><span class="pre">ZeroRange</span></code> from your
package: there may be other packages that implement their own
<code class="docutils literal"><span class="pre">ZeroRange</span></code>, and having multiple distinct <code class="docutils literal"><span class="pre">ZeroRange</span></code> types is (perhaps
counterintuitively) an advantage: <code class="docutils literal"><span class="pre">ModuleA.ZeroRange</span></code> indicates that
<code class="docutils literal"><span class="pre">similar</span></code> should create a <code class="docutils literal"><span class="pre">ModuleA.ZeroArray</span></code>, whereas
<code class="docutils literal"><span class="pre">ModuleB.ZeroRange</span></code> indicates a <code class="docutils literal"><span class="pre">ModuleB.ZeroArray</span></code> type.  This
design allows peaceful coexistence among many different custom array
types.</p>
<p>Note that the Julia package <code class="docutils literal"><span class="pre">CustomUnitRanges.jl</span></code> can sometimes be used to
avoid the need to write your own <code class="docutils literal"><span class="pre">ZeroRange</span></code> type.</p>
</div>
<div class="section" id="specializing-indices">
<h3>Specializing <code class="docutils literal"><span class="pre">indices</span></code><a class="headerlink" href="#specializing-indices" title="Permalink to this headline">¶</a></h3>
<p>Once you have your <code class="docutils literal"><span class="pre">AbstractUnitRange</span></code> type, then specialize <code class="docutils literal"><span class="pre">indices</span></code>:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="n">Base</span><span class="o">.</span><span class="n">indices</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="n">ZeroArray</span><span class="p">)</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">n</span><span class="o">-&gt;</span><span class="n">ZeroRange</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">A</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p>where here we imagine that <code class="docutils literal"><span class="pre">ZeroArray</span></code> has a field called <code class="docutils literal"><span class="pre">size</span></code>
(there would be other ways to implement this).</p>
<p>In some cases, the fallback definition for <code class="docutils literal"><span class="pre">indices(A,</span> <span class="pre">d)</span></code>:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="n">indices</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="n">N</span><span class="p">}(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="n">N</span><span class="p">},</span> <span class="n">d</span><span class="p">)</span> <span class="o">=</span> <span class="n">d</span> <span class="o">&lt;=</span> <span class="n">N</span> <span class="o">?</span> <span class="n">indices</span><span class="p">(</span><span class="n">A</span><span class="p">)[</span><span class="n">d</span><span class="p">]</span> <span class="o">:</span> <span class="n">OneTo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>may not be what you want: you may need to specialize it to return
something other than <code class="docutils literal"><span class="pre">OneTo(1)</span></code> when <code class="docutils literal"><span class="pre">d</span> <span class="pre">&gt;</span> <span class="pre">ndims(A)</span></code>.  Likewise, in
<code class="docutils literal"><span class="pre">Base</span></code> there is a dedicated function <code class="docutils literal"><span class="pre">indices1</span></code> which is
equivalent to <code class="docutils literal"><span class="pre">indices(A,</span> <span class="pre">1)</span></code> but which avoids checking (at
runtime) whether <code class="docutils literal"><span class="pre">ndims(A)</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>. (This is purely a performance
optimization.)  It is defined as:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="n">indices1</span><span class="p">{</span><span class="n">T</span><span class="p">}(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="n">T</span><span class="p">,</span><span class="mi">0</span><span class="p">})</span> <span class="o">=</span> <span class="n">OneTo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">indices1</span><span class="p">{</span><span class="n">T</span><span class="p">}(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="n">T</span><span class="p">})</span>   <span class="o">=</span> <span class="n">indices</span><span class="p">(</span><span class="n">A</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>If the first of these (the zero-dimensional case) is problematic for
your custom array type, be sure to specialize it appropriately.</p>
</div>
<div class="section" id="specializing-similar">
<h3>Specializing <code class="docutils literal"><span class="pre">similar</span></code><a class="headerlink" href="#specializing-similar" title="Permalink to this headline">¶</a></h3>
<p>Given your custom <code class="docutils literal"><span class="pre">ZeroRange</span></code> type, then you should also add the following two specializations for <code class="docutils literal"><span class="pre">similar</span></code>:</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">Base</span><span class="o">.</span><span class="n">similar</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">,</span> <span class="n">T</span><span class="o">::</span><span class="kt">Type</span><span class="p">,</span> <span class="n">shape</span><span class="o">::</span><span class="kt">Tuple</span><span class="p">{</span><span class="n">ZeroRange</span><span class="p">,</span><span class="kt">Vararg</span><span class="p">{</span><span class="n">ZeroRange</span><span class="p">}})</span>
    <span class="c"># body</span>
<span class="k">end</span>

<span class="k">function</span> <span class="n">Base</span><span class="o">.</span><span class="n">similar</span><span class="p">(</span><span class="n">f</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">Function</span><span class="p">,</span><span class="kt">DataType</span><span class="p">},</span> <span class="n">shape</span><span class="o">::</span><span class="kt">Tuple</span><span class="p">{</span><span class="n">ZeroRange</span><span class="p">,</span><span class="kt">Vararg</span><span class="p">{</span><span class="n">ZeroRange</span><span class="p">}})</span>
    <span class="c"># body</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Both of these should allocate your custom array type.</p>
</div>
<div class="section" id="specializing-reshape">
<h3>Specializing <code class="docutils literal"><span class="pre">reshape</span></code><a class="headerlink" href="#specializing-reshape" title="Permalink to this headline">¶</a></h3>
<p>Optionally, define a method</p>
<div class="highlight-julia"><div class="highlight"><pre><span></span><span class="n">Base</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">,</span> <span class="n">shape</span><span class="o">::</span><span class="kt">Tuple</span><span class="p">{</span><span class="n">ZeroRange</span><span class="p">,</span><span class="kt">Vararg</span><span class="p">{</span><span class="n">ZeroRange</span><span class="p">}})</span> <span class="o">=</span> <span class="o">...</span>
</pre></div>
</div>
<p>and you can <code class="docutils literal"><span class="pre">reshape</span></code> an array so that the result has custom indices.</p>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Writing code that doesn&#8217;t make assumptions about indexing requires a
few extra abstractions, but hopefully the necessary changes are
relatively straightforward.</p>
<p>As a reminder, this support is still experimental. While much of
Julia&#8217;s base code has been updated to support unconventional indexing,
without a doubt there are many omissions that will be discovered only
through usage.  Moreover, at the time of this writing, most packages
do not support unconventional indexing.  As a consequence, early
adopters should be prepared to identify and/or fix bugs.  On the other
hand, only through practical usage will it become clear whether this
experimental feature should be retained in future versions of Julia;
consequently, interested parties are encouraged to accept some
ownership for putting it through its paces.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../C/" class="btn btn-neutral float-right" title="Developing/debugging Julia’s C code">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../locks/" class="btn btn-neutral" title="Proper maintenance and care of multi-threading locks"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.5.3-pre',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>