% [JuliaLang/julia#35495] Override latex writeheader to use our custom preamble.
%   Changes:
%   + Show only "part&chapter" in TOC: `\settocdepth`
%   + Use compact line spacing in TOC: `\cftbeforepartskip`, `\cftbeforechapterskip`
%   + Increase the spacing between chapter numbers and chapter names:
%       `\cftchapternumwidth`

%% ---- Variables passed from outside
%   \DocMainTitle   % The Julia Language
%   \DocVersion     % dev version
%   \DocAuthors     % The Julia Project
%% ---- %%
\documentclass[oneside]{memoir}
\usepackage{./documenter}
\usepackage{./custom}

%% Title Page
\title{
    {\HUGE \DocMainTitle}\\
    {\Large \DocVersion}
}
\author{\DocAuthors}

%% TOC settings
\settocdepth{chapter}  % only show "chapter" in TOC
% -- TOC spacing
%   ref: https://tex.stackexchange.com/questions/60317/toc-spacing-in-memoir
        \makeatletter
% {part} to {chaper}
\setlength{\cftbeforepartskip}{1.5em \@plus \p@}
% {chaper} to {chaper}
\setlength{\cftbeforechapterskip}{0.0em \@plus \p@}
% Chapter num to chapter title spacing
\setlength{\cftchapternumwidth}{2.5em}
\makeatother

%% Main document begin
\begin{document}
\frontmatter
\maketitle
\clearpage
\tableofcontents
\mainmatter
